<html>
    <head>
        <title>Uploading Example</title>
        <script src="/code/static/js/jquery.js" type="text/javascript"></script>
    </head>
    <body>
        <form enctype="multipart/form-data" 
        method="POST" id="uploadimage" action="upload.php">
           <input type="file" id="data" name="data">
           <input type="submit" value="submit" id="submit" name="submit">
        </form>
        <script>
            $("#uploadimage").on('submit',function(e){
                //var img = document.createElement("img");
               // document.body.appendChild(img);
               e.preventDefault();
                sendFile(this);
            });
            function sendFile(file) {
            var uri = "upload.php";
            var xhr = new XMLHttpRequest();
            var fd = new FormData(file);
            
            xhr.open("POST", uri, true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    // Handle response.
                    alert(xhr.responseText); // handle response.
                }
            };
            //fd.append('myFile', file);
            // Initiate a multipart/form-data upload
            xhr.send(fd);
        }
        </script>
    </body>
</html>